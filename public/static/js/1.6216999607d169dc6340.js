webpackJsonp([1],{"6XPi":function(e,t,a){"use strict";function i(e){a("hblM")}Object.defineProperty(t,"__esModule",{value:!0});var d=a("yFxB"),n=a("jNAU"),r=a("VU/8"),o=i,A=r(d.a,n.a,!1,o,"data-v-5577dc90",null);t.default=A.exports},aTLI:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,".leftborder[data-v-5577dc90]{height:60px;border-left:4px solid rgba(12,65,38,.6);margin:0 15px;background-color:#f2f3f2;text-align:left;padding-left:20px;line-height:60px}@media screen and (max-width:768px){.leftborder[data-v-5577dc90]{margin:0 1px;height:45px;line-height:45px;padding-left:15px}}.learncontent[data-v-5577dc90]{margin:20px 15px;-webkit-box-shadow:0 0 5px rgba(12,65,38,.6);box-shadow:0 0 5px rgba(12,65,38,.6);border-radius:10px;padding:10px}@media screen and (max-width:768px){.learncontent[data-v-5577dc90]{margin:10px 1px;padding:2px}}.section .serchprod[data-v-5577dc90]{margin:20px 15px;-webkit-box-shadow:0 0 5px rgba(12,65,38,.6);box-shadow:0 0 5px rgba(12,65,38,.6);border-radius:10px;padding:10px}@media screen and (max-width:768px){.section .serchprod[data-v-5577dc90]{margin:10px 1px;padding:2px}}.section .serchprod .serch-input[data-v-5577dc90]{width:70%}.section .serchprod .serch-btn[data-v-5577dc90]{width:29%}.section .allprod[data-v-5577dc90]{margin:20px 15px;-webkit-box-shadow:0 0 5px rgba(12,65,38,.6);box-shadow:0 0 5px rgba(12,65,38,.6);border-radius:10px;padding:10px}@media screen and (max-width:768px){.section .allprod[data-v-5577dc90]{margin:10px 1px;padding:2px}}.section .allprod .table-image[data-v-5577dc90]{width:60px;height:60px;border-radius:30px}.section .el-form[data-v-5577dc90]{text-align:left}.section .el-form .el-select[data-v-5577dc90]{width:100%}.section .el-form .el-switch[data-v-5577dc90]{margin:10px 0 0}.section .el-form .prod-image[data-v-5577dc90]{width:200px;height:200px;border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.section .el-form .prod-image .cur-image[data-v-5577dc90]{width:100%}.section .el-form .prod-image .prod-uploader-icon[data-v-5577dc90]{font-size:45px;color:#8c939d;width:200px;height:200px;line-height:200px;text-align:center}","",{version:3,sources:["/home/lytton/桌面/work/learn/src/admin/views/localProds/allLocalProds.vue"],names:[],mappings:"AACA,6BACE,YAAa,AACb,wCAA6C,AAC7C,cAAe,AACf,yBAA0B,AAC1B,gBAAiB,AACjB,kBAAmB,AACnB,gBAAkB,CACnB,AACD,oCACA,6BACI,aAAc,AACd,YAAa,AACb,iBAAkB,AAClB,iBAAmB,CACtB,CACA,AACD,+BACE,iBAAkB,AAClB,6CAAkD,AAC1C,qCAA0C,AAClD,mBAAoB,AACpB,YAAc,CACf,AACD,oCACA,+BACI,gBAAiB,AACjB,WAAa,CAChB,CACA,AACD,qCACE,iBAAkB,AAClB,6CAAkD,AAC1C,qCAA0C,AAClD,mBAAoB,AACpB,YAAc,CACf,AACD,oCACA,qCACI,gBAAiB,AACjB,WAAa,CAChB,CACA,AACD,kDACE,SAAW,CACZ,AACD,gDACE,SAAW,CACZ,AACD,mCACE,iBAAkB,AAClB,6CAAkD,AAC1C,qCAA0C,AAClD,mBAAoB,AACpB,YAAc,CACf,AACD,oCACA,mCACI,gBAAiB,AACjB,WAAa,CAChB,CACA,AACD,gDACE,WAAY,AACZ,YAAa,AACb,kBAAoB,CACrB,AACD,mCACE,eAAiB,CAClB,AACD,8CACE,UAAY,CACb,AACD,8CACE,eAAmB,CACpB,AACD,+CACE,YAAa,AACb,aAAc,AACd,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,eAAiB,CAClB,AACD,0DACE,UAAY,CACb,AACD,mEACE,eAAgB,AAChB,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,iBAAmB,CACpB",file:"allLocalProds.vue",sourcesContent:["\n.leftborder[data-v-5577dc90] {\n  height: 60px;\n  border-left: 4px solid rgba(12, 65, 38, 0.6);\n  margin: 0 15px;\n  background-color: #f2f3f2;\n  text-align: left;\n  padding-left: 20px;\n  line-height: 60px;\n}\n@media screen and (max-width: 768px) {\n.leftborder[data-v-5577dc90] {\n    margin: 0 1px;\n    height: 45px;\n    line-height: 45px;\n    padding-left: 15px;\n}\n}\n.learncontent[data-v-5577dc90] {\n  margin: 20px 15px;\n  -webkit-box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\n          box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\n  border-radius: 10px;\n  padding: 10px;\n}\n@media screen and (max-width: 768px) {\n.learncontent[data-v-5577dc90] {\n    margin: 10px 1px;\n    padding: 2px;\n}\n}\n.section .serchprod[data-v-5577dc90] {\n  margin: 20px 15px;\n  -webkit-box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\n          box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\n  border-radius: 10px;\n  padding: 10px;\n}\n@media screen and (max-width: 768px) {\n.section .serchprod[data-v-5577dc90] {\n    margin: 10px 1px;\n    padding: 2px;\n}\n}\n.section .serchprod .serch-input[data-v-5577dc90] {\n  width: 70%;\n}\n.section .serchprod .serch-btn[data-v-5577dc90] {\n  width: 29%;\n}\n.section .allprod[data-v-5577dc90] {\n  margin: 20px 15px;\n  -webkit-box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\n          box-shadow: 0 0 5px rgba(12, 65, 38, 0.6);\n  border-radius: 10px;\n  padding: 10px;\n}\n@media screen and (max-width: 768px) {\n.section .allprod[data-v-5577dc90] {\n    margin: 10px 1px;\n    padding: 2px;\n}\n}\n.section .allprod .table-image[data-v-5577dc90] {\n  width: 60px;\n  height: 60px;\n  border-radius: 30px;\n}\n.section .el-form[data-v-5577dc90] {\n  text-align: left;\n}\n.section .el-form .el-select[data-v-5577dc90] {\n  width: 100%;\n}\n.section .el-form .el-switch[data-v-5577dc90] {\n  margin: 10px 0 0 0;\n}\n.section .el-form .prod-image[data-v-5577dc90] {\n  width: 200px;\n  height: 200px;\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.section .el-form .prod-image .cur-image[data-v-5577dc90] {\n  width: 100%;\n}\n.section .el-form .prod-image .prod-uploader-icon[data-v-5577dc90] {\n  font-size: 45px;\n  color: #8c939d;\n  width: 200px;\n  height: 200px;\n  line-height: 200px;\n  text-align: center;\n}\n"],sourceRoot:""}])},hblM:function(e,t,a){var i=a("aTLI");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("ab9a021c",i,!0,{})},jNAU:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"section"},[a("div",{staticClass:"allprod"},[a("h4",[e._v("所有商品")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.prods}},[a("el-table-column",{attrs:{prop:"name",label:"商品名","min-width":"40%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sellnum",label:"总销量","min-width":"10%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格","min-width":"10%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"image",label:"图片","min-width":"20%"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"table-image",attrs:{src:e.row.image,alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"20%",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger"},on:{click:function(a){e.EditProd(t.$index,t.row)}}},[e._v("编辑商品")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑商品",visible:e.dialogFormVisible,width:"90%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"editprod",attrs:{rules:e.prodrules,model:e.editprod}},[a("el-form-item",{attrs:{label:"商品名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入商品名"},model:{value:e.editprod.name,callback:function(t){e.$set(e.editprod,"name",t)},expression:"editprod.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"价格",prop:"price"}},[a("el-input",{attrs:{placeholder:"请输入商品价格"},model:{value:e.editprod.price,callback:function(t){e.$set(e.editprod,"price",e._n(t))},expression:"editprod.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品主图",prop:"image"}},[a("qiniu-upload",{key:e.imageUrl,ref:"qnupload",attrs:{url:e.imageUrl,width:"200",height:"200",fontSize:"40"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品简介",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请请输入商品简介"},model:{value:e.editprod.desc,callback:function(t){e.$set(e.editprod,"desc",t)},expression:"editprod.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品详情",prop:"info"}},[a("md-upload",{key:e.editprod.info,ref:"mdedit",attrs:{info:e.editprod.info}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.exitEdit}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitEdit}},[e._v("确 定")])],1)],1)],1)},d=[],n={render:i,staticRenderFns:d};t.a=n},yFxB:function(e,t,a){"use strict";var i=a("7g/s");t.a={data:function(){return{prodName:"",prods:[],dialogFormVisible:!1,imageUrl:"",editprod:{name:"",price:"",desc:"",info:""},prodrules:{name:[{required:!0,message:"请输入商品名",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字",trigger:"blur"}],price:[{required:!0,message:"请输入商品价格",trigger:"blur"},{type:"number",message:"价格必须是数字",trigger:"blur"}],desc:[{required:!0,message:"请输入商品简介",trigger:"blur"}]}}},methods:{getallprods:function(){var e=this;Object(i.E)().then(function(t){console.log(t),e.prods=t.data})},EditProd:function(e,t){this.editprod=t,this.imageUrl=t.image,this.dialogFormVisible=!0},exitEdit:function(){this.dialogFormVisible=!1},submitEdit:function(){var e=this;this.$refs.editprod.validate(function(t){if(t){var a={id:e.editprod._id,name:e.editprod.name,price:e.editprod.price,image:e.$refs.qnupload.imageUrl,desc:e.editprod.desc,info:e.$refs.mdedit.mdinfo};Object(i.D)(a).then(function(t){e.$notify({title:"商品修改成功",message:t.data.name,type:"success",offset:100}),e.dialogFormVisible=!1,e.getallprods()})}else e.$message({type:"danger",message:"请验证后再提交修改"})})}},mounted:function(){this.getallprods()}}}});
//# sourceMappingURL=1.6216999607d169dc6340.js.map